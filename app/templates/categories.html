{% extends "base.html" %}

{% block title %}All Categories - buxin store{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 py-10 sm:py-12">
    <!-- Page Header -->
    <div class="mb-8">
        <h1 class="text-2xl font-bold text-[color:var(--app-text)] dark:text-white mb-2">Shop by Category</h1>
        <p class="text-[color:var(--app-muted)] dark:text-slate-400">Browse all our product categories</p>
    </div>

    {% if not categories_with_counts %}
    <div class="text-center py-12 border border-dashed border-[color:var(--app-border)] dark:border-slate-800 rounded-3xl bg-[color:var(--app-card)] text-[color:var(--app-text)]">
        <i data-lucide="folder" class="w-12 h-12 mx-auto text-[color:var(--app-muted)] dark:text-slate-500 mb-4"></i>
        <p class="text-[color:var(--app-muted)] dark:text-slate-400">No categories found.</p>
    </div>
    {% else %}
    <!-- Categories Grid -->
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4">
        {% for cat in categories_with_counts %}
        <a href="{{ url_for('category', category_id=cat.id) }}" 
           class="group bg-[color:var(--app-card)] dark:bg-slate-900/60 border border-[color:var(--app-border)] dark:border-slate-700/60 rounded-2xl p-5 transition-all hover:scale-[1.02] hover:border-cyan-500/50 hover:shadow-lg hover:shadow-cyan-500/10 text-[color:var(--app-text)]">
            <div class="w-20 h-20 rounded-xl overflow-hidden mb-4 mx-auto border border-[color:var(--app-border)] dark:border-slate-700 group-hover:border-cyan-500/50 transition-colors">
                {% if cat.image %}
                <img src="{{ cat.image|category_image_url }}" 
                     alt="{{ cat.name }}" 
                     class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                {% else %}
                <div class="w-full h-full bg-gradient-to-br {{ cat.gradient }} flex items-center justify-center">
                    <i data-lucide="{{ cat.icon }}" class="w-8 h-8 text-white"></i>
                </div>
                {% endif %}
            </div>
            <h4 class="font-semibold text-sm mb-1 text-center text-[color:var(--app-text)] dark:text-white group-hover:text-cyan-500 transition-colors">
                {{ cat.name }}
            </h4>
            <p class="text-xs text-[color:var(--app-muted)] dark:text-slate-400 text-center">
                {{ cat.count }} {{ 'item' if cat.count == 1 else 'items' }}
            </p>
        </a>
        {% endfor %}
    </div>
    {% endif %}
</div>
{% endblock %}

